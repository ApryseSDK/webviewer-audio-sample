<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules @pdftron/webviewer-audio Modules × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-02-25T23:39:23-08:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules @pdftron/webviewer-audio WebViewer Audio WebViewer is a powerful JavaScript-based PDF Library that's part of the PDFTron PDF SDK. It allows you to view and annotate PDF files on your web app with a fully customizable UI. This is an addon for WebViewer that allows loading media files (.mp3, .mp4, ogg, webm, etc.), so that their audio tracks can annotated and redacted. Also, try out the react sample here. It shows how to integrate WebViewer and WebViewer-Audio with a server component for the saving of annotations. Demo https://webviewer-audio.web.app/ Initial setup Before you begin, make sure your development environment includes Node.js and npm. Install npm install @pdftron/webviewer-audio How to use Here is an example of how WebViewer and WebViewer-audio could be integrated into your application. import React, { useRef, useEffect } from 'react'; import WebViewer from '@pdftron/webviewer'; import { initializeAudioViewer } from '@pdftron/webviewer-audio'; const App = () =&gt; { const viewer = useRef(null); useEffect(() =&gt; { WebViewer( { path: '/webviewer/lib', }, viewer.current, ).then(async instance =&gt; { // Extends WebViewer to allow loading media files (.mp3, .mp4, ogg, webm, etc.) const { loadAudio, } = await initializeAudioViewer( instance, { license: '---- Insert commercial license key here after purchase ----', } ); // Load a media element at a specific url. Can be a local or public link // If local it needs to be relative to lib/ui/index.html. // Or at the root. (eg '/audio.mp3') const audioUrl = '/audio.mp3'; loadAudio(audioUrl); }); }, []); return ( &lt;div className=\"App\"&gt; &lt;div className=\"webviewer\" ref={viewer} /&gt; &lt;/div&gt; ); } export default App; Also see the React sample, for a complete solution, with further customizations. Loading as a Script Tag If your environment can not import WebViewer Video from the module, you can instead include WebViewer Video as a script tag. Simply, take the file node_modules/@pdftron/webviewer-audio/dist/main.js and add it to your project's html page. &lt;head&gt; ... &lt;!-- main.js can be renamed --&gt; &lt;script src=\"./main.js\"&gt;&lt;/script&gt; &lt;/head&gt; This will add the object WebViewerAudio to the window. This object contains initializeAudioViewer. So the previous code can be changed to: ... const { loadAudio, } = await window.WebViewerAudio.initializeAudioViewer( instance, { license: '---- Insert commercial license key here after purchase ----', } ); ... Documentation https://webviewer-audio.web.app/doc/ License WebViewer Audio will run in trial mode until a license is provided. For more information on licensing, please visit our website. × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-02-25T23:39:23-08:00 using the DocStrap template. "},"module-@pdftron_webviewer-audio.html":{"id":"module-@pdftron_webviewer-audio.html","title":"Module: @pdftron/webviewer-audio","body":" Documentation Modules @pdftron/webviewer-audio Module: @pdftron/webviewer-audio This is an addon for WebViewer that allows loading media files (.mp3, .mp4, .ogg, .webm, etc.) so that the audio track can be annotated. See the npm package on @pdftron/webviewer-audio for more information. Methods &lt;async, static&gt; initializeAudioViewer(instance, options) Initializes the audio viewer so that WebViewer can load media files. Parameters: Name Type Description instance Object The WebViewer instance options Object Options object. Properties Name Type Argument Default Description license string &lt;optional&gt; '' The WebViewer Audio license. Returns: A promise that resolves to an object containing the functions needed to load videos in WebViewer. Type AudioFunctions Example WebViewer(...) .then(function(instance) { const license = '---- Insert commercial license key here after purchase ----'; const { loadAudio, getFileURL, } = await initializeAudioViewer( instance, { license, }, ); loadAudio('https://www.mydomain.com/my_audio_url'); instance.docViewer.on('documentLoaded', () =&gt; { // Download the file const anchor = document.createElement('a'); anchor.href = getFileURL(); anchor.target = \"_blank\"; anchor.download = myAudioFile.mp3; // Auto click on a element, trigger the file download anchor.click(); }); }); Type Definitions AudioFunctions Type: Object Properties: Name Type Description loadAudio function Loads an audio file for the WebViewer instance passed into initializeAudioViewer. First param is the audio/video url. getFileURL function Can only be used in licensed mode. In the demo mode it will only return `null`. Returns the file URL loaded through `loadAudio` until redactions are made. After redactions are made the URL will be a Data URL for the modified file. redactAudio function Redacts ranges of time in the audio. It takes one param, an array of objects with the shape: { start: startTime , end: endTime }. `start` and `end` time are both expected to be in seconds. Returns a promise that resolves when the operation is complete. Only one of these operations may be run at the same time. You must wait for the previous operation to finish before beginning another. Example WebViewer(...) .then(function(instance) { const license = '---- Insert commercial license key here after purchase ----'; const { loadAudio, getFileURL, redactAudio, } = await initializeAudioViewer( instance, { license, }, ); loadAudio('https://www.mydomain.com/my_audio_url'); instance.docViewer.on('documentLoaded', async () =&gt; { // Download the file const anchor = document.createElement('a'); anchor.href = getFileURL(); anchor.target = \"_blank\"; anchor.download = myAudioFile.mp3; // Auto click on a element, trigger the file download anchor.click(); // Redact the audio track 0.5 - 2.0 seconds and 2.5 - 4.0 seconds. await redactAudio([ { start: 0.5, end: 2.0 }, { start: 2.5, end: 4.0 } ]); }); }); × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-02-25T23:39:23-08:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
